{
  "$jsonSchema": {
    "bsonType": "object",
    "required": [
      "_id",
      "createdAt",
      "email",
      "handle",
      "passwordHash",
      "score",
      "verified"
    ],
    "properties": {
      "_id": {
        "bsonType": "objectId"
      },
      "createdAt": {
        "bsonType": "date"
      },
      "email": {
        "bsonType": "string"
      },
      "handle": {
        "bsonType": "string"
      },
      "passwordHash": {
        "bsonType": "string"
      },
      "score": {
        "bsonType": "int"
      },
      "verified": {
        "bsonType": "bool"
      }
    },
    
      "_indexes": [
    {
      "name": "uniq_email",
      "key": { "email": 1 },
      "unique": true,
      "description": "Enforces unique user email addresses"
    },
    {
      "name": "handle_1",
      "key": { "handle": 1 },
      "unique": true,
      "description": "Enforces unique usernames (handles)"
    },
    {
      "name": "score_-1",
      "key": { "score": -1 },
      "unique": false,
      "description": "Speeds up leaderboard or score-sorted queries"
    }
  ]
  
  }
}